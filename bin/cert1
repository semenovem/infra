#!/bin/sh

BIN=$(dirname "$([ "${0:0:1}" = "/" ] && echo "$0" || echo "$PWD/${0#./}")")
sourse "${BIN}/common.sh"

file=$1
[ -z "$file" ] && echo "pass an argument ${file}" && exit 1
[ ! -f "$file" ] && echo "this is not a file '${file}'" && exit 1

grep -q "BEGIN CERTIFICATE" "$file" &&
  (
    openssl x509 -noout -text -in "$1"
    return $?
  )

grep -q "BEGIN CERTIFICATE REQUEST" "$file" &&
  (
    openssl req -noout -text -in "$1"
    return $?
  )
